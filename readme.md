Shogun
---------

![Shogun](./media/shogun.png)
Shogun provides a function executor similar to `make` with a nice twist of small haikus and expanded capabilities
like io.Reader arguments, shogun does not just lets you run functions as tasks but lets you take such binaries
generated by shogun be to lunched anywhere like a beautiful lambda house.

*Inspired by [mage](https://github.com/magefiles/mage)*

## Install

```bash
go install -u github.com/influx6/shogun
```

## Usage
Shogun requires all go files which wish to expose katana functions with the shogun build tag as below.

```
// +build shogun
```

Shogun by default will save binaries into the `GOBIN` or `GOPATH/bin` path extracted from the environment, however this can be changed by setting a `SHOGUNBIN` environment
varable. More so, Shogun names all binaries the name of the parent package unless one declares an explicit annotation `@binaryName` at the package level.

```
// +build shogun

// Package does something.
//
//@binaryName(shogunate_bin)
package do
```

All binaries created by shogun are self complete and can equally be called directly without the `shogun` command, which makes it very usable for easy deployable self contained executables that can be used in place where behaviors need to be exposed as functions.

In shogun, you can tag a function as the default entry level function by tagging with a `@default` annotation.

## Commands

But using the `shogun` command has proxy, we can run the following:

- Build a package shogun files

```bash
shogun build
```

Shogun will hash shogun files and ensure only when changes occur will a new build be made and binary will be stored in binary location as dictated by environment variable `SHOGUNBIN` or default `GOBIN`/`GOPATH/bin` .

- Run function within shogun files expecting no input

```bash
shogun {{FUNCTIONNAME}}
```

- Run function within shogun files with standard input

```bash
echo "We lost the war" | shogun {{FUNCTIONNAME}}
```

- Run function within shogun files with json input

```bash
shogun {{FUNCTIONNAME}} -json {"name":"bat"}
```

- List all functions with

```bash
shogun list
```

- List all functions with short commentary

```bash
shogun help {{FunctionName}}
```

- List all functions with full commentary

```bash
shogun help -f {{FunctionName}}
```

- List all functions with full commentary and source snippet

```bash
shogun help -f=true -s=true {{FunctionName}}
```

## Similar Tools

- make
- [mage](https://github.com/magefiles/mage)
